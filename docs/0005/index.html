<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>layers with nodes | butiran</title>
<link rel=stylesheet href=/butiran/css/main.min.5d949e138e137f26bbbc6fbe151c3e39ca49a674bd5c6f0f3a9ff79176ee1043.css integrity="sha256-XZSeE44Tfya7vG++FRw+OcpJpnS9XG8POp/3kXbuEEM=" crossorigin=anonymous><script src=/butiran/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></head><body><header><link rel=stylesheet href='/butiran/css/header.css?v=1763875921'><h1>butiran</h1><nav><ul><li><a href=/butiran/>Home</a></li></ul></nav></header><main><h1>layers with nodes</h1><time datetime=2023-12-12T21:04:00+08:00>December 12, 2023</time><h2 id=intro>intro</h2><p>We can use Mermaid, a simple Markdown-like script language for generating charts from text via JavaScript (Mallin, 2018), to draw layers with nodes, where the diagram element used is circle and the feature of subgraph. But this would not be the main purpose of Mermaid, but we can use for it.</p><h2 id=model>model</h2><ul><li>From right to left it is a <code>2 &lt;-- 3 &lt;-- 4 &lt;-- 3</code> architecture.<ul><li>Note: Usual notation is from left to right as <code>3-4-3-2</code>.</li></ul></li></ul><div class=mermaid>flowchart RL
i1--"w11"-->h1;i2--"w12"-->h1;i3--"w13"-->h1;
i1--"w21"-->h2;i2--"w22"-->h2;i3--"w23"-->h2;
i1--"w31"-->h3;i2--"w32"-->h3;i3--"w33"-->h3;
i1--"w41"-->h4;i2--"w42"-->h4;i3--"w43"-->h4;
h1--"v11"-->g1;h2--"v12"-->g1;h3--"v13"-->g1;h4--"v14"-->g1;
h1--"v21"-->g2;h2--"v22"-->g2;h3--"v23"-->g2;h4--"v24"-->g2;
h1--"v31"-->g3;h2--"v32"-->g3;h3--"v33"-->g3;h4--"v34"-->g3;
g1--"u11"-->o1;g2--"u12"-->o1;g3--"u13"-->o1;
g1--"u21"-->o2;g2--"u22"-->o2;g3--"u23"-->o2;
subgraph I
i1(("1"))
i2(("2"))
i3(("3"));
end
subgraph H
h1(("1"))
h2(("2"))
h3(("3"))
h4(("4"));
end
subgraph G
g1(("1"))
g2(("2"))
g3(("3"))
end
subgraph O
o1(("1"))
o2(("2"))
end
classDef nodes fill:transparent, color:inherit
classDef layers fill:none, color:inherit
class i1,i2,i3 nodes
class h1,h2,h3,h4 nodes
class g1,g2,g3 nodes
class o1,o2 nodes
class I,H,G,O layers
linkStyle default stroke:#8a8</div><h2 id=mermaid>mermaid</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e><span class=mermaid-keyword>flowchart</span></span> <span style=color:#a6e22e><span class=mermaid-value>RL</span></span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>i1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w11&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h1</span>;<span style=color:#a6e22e>i2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w12&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h1</span>;<span style=color:#a6e22e>i3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w13&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>i1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w21&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h2</span>;<span style=color:#a6e22e>i2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w22&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h2</span>;<span style=color:#a6e22e>i3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w23&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>i1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w31&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h3</span>;<span style=color:#a6e22e>i2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w32&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h3</span>;<span style=color:#a6e22e>i3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w33&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h3</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>i1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w41&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h4</span>;<span style=color:#a6e22e>i2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w42&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h4</span>;<span style=color:#a6e22e>i3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;w43&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>h4</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>h1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v11&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g1</span>;<span style=color:#a6e22e>h2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v12&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g1</span>;<span style=color:#a6e22e>h3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v13&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g1</span>;<span style=color:#a6e22e>h4</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v14&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>h1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v21&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g2</span>;<span style=color:#a6e22e>h2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v22&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g2</span>;<span style=color:#a6e22e>h3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v23&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g2</span>;<span style=color:#a6e22e>h4</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v24&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>h1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v31&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g3</span>;<span style=color:#a6e22e>h2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v32&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g3</span>;<span style=color:#a6e22e>h3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v33&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g3</span>;<span style=color:#a6e22e>h4</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;v34&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>g3</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>g1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;u11&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>o1</span>;<span style=color:#a6e22e>g2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;u12&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>o1</span>;<span style=color:#a6e22e>g3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;u13&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>o1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>g1</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;u21&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>o2</span>;<span style=color:#a6e22e>g2</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;u22&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>o2</span>;<span style=color:#a6e22e>g3</span><span style=color:#f92672>--</span><span style=color:#e6db74>&#34;u23&#34;</span><span style=color:#f92672>--&gt;</span><span style=color:#a6e22e>o2</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>subgraph</span></span> <span style=color:#a6e22e>I</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i1</span>((<span style=color:#e6db74>&#34;1&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i2</span>((<span style=color:#e6db74>&#34;2&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i3</span>((<span style=color:#e6db74>&#34;3&#34;</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>end</span></span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>subgraph</span></span> <span style=color:#a6e22e>H</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h1</span>((<span style=color:#e6db74>&#34;1&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h2</span>((<span style=color:#e6db74>&#34;2&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h3</span>((<span style=color:#e6db74>&#34;3&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h4</span>((<span style=color:#e6db74>&#34;4&#34;</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>end</span></span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>subgraph</span></span> <span style=color:#a6e22e>G</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g1</span>((<span style=color:#e6db74>&#34;1&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g2</span>((<span style=color:#e6db74>&#34;2&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>g3</span>((<span style=color:#e6db74>&#34;3&#34;</span>))
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>end</span></span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>subgraph</span></span> <span style=color:#a6e22e>O</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>o1</span>((<span style=color:#e6db74>&#34;1&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>o2</span>((<span style=color:#e6db74>&#34;2&#34;</span>))
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>end</span></span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>classDef</span></span> <span style=color:#a6e22e>nodes</span> <span style=color:#a6e22e>fill</span><span style=color:#f92672>:</span><span style=color:#a6e22e>transparent</span>, <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span><span style=color:#a6e22e>inherit</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e><span class=mermaid-keyword>classDef</span></span> <span style=color:#a6e22e>layers</span> <span style=color:#a6e22e>fill</span><span style=color:#f92672>:</span><span style=color:#a6e22e>none</span>, <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span><span style=color:#a6e22e>inherit</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>i1</span>,<span style=color:#a6e22e>i2</span>,<span style=color:#a6e22e>i3</span> <span style=color:#a6e22e>nodes</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>h1</span>,<span style=color:#a6e22e>h2</span>,<span style=color:#a6e22e>h3</span>,<span style=color:#a6e22e>h4</span> <span style=color:#a6e22e>nodes</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>g1</span>,<span style=color:#a6e22e>g2</span>,<span style=color:#a6e22e>g3</span> <span style=color:#a6e22e>nodes</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>o1</span>,<span style=color:#a6e22e>o2</span> <span style=color:#a6e22e>nodes</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>I</span>,<span style=color:#a6e22e>H</span>,<span style=color:#a6e22e>G</span>,<span style=color:#a6e22e>O</span> <span style=color:#a6e22e>layers</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>linkStyle</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>stroke</span><span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#ae81ff>8</span><span style=color:#a6e22e>a8</span></span></span></code></pre></div><style>.chroma.mermaid-code{background:#1e1e2f;color:#ddd;padding:1rem;border-radius:6px;overflow-x:auto;font-family:fira code,monospace;line-height:1.45}.chroma.mermaid-code .s{color:#a5d6ff}.chroma.mermaid-code .m{color:#ffa657}.chroma.mermaid-code .n{color:#8ae9c1}.chroma.mermaid-code .c{color:#7f7f7f;font-style:italic}.mermaid-keyword{color:#79c6ff;font-weight:700}.mermaid-value{color:#fa7bfa;font-weight:700}</style><h2 id=notes>notes</h2><ul><li>Input, two hidden, and output layers, each is put in <code>subgraph</code>-<code>end</code> block.</li><li>Nodes are named without name of layers containing them for simplicity.</li><li>Weights <code>w</code>, <code>v</code>, <code>u</code> maps nodes and indicated with their sub-index.<ul><li>e.g. <code>G2 &lt;-- w23 -- H3</code>, where this means better from right to left.</li></ul></li><li>CSS class is defined using <code>classDef</code> and later used using <code>class</code>.</li><li>For link or line connecting elements it style is modified via <code>linkStyle</code>.</li></ul><h2 id=refs>refs</h2><ul><li>Wallin M (2018) &ldquo;Generating documentation as code with mermaid and PlantUML&rdquo;, Rule of Tech, url
<a href=https://ruleoftech.com/2018/generating-documentation-as-code-with-mermaid-and-plantuml target=_blank rel="nofollow noopener noreferrer"><span>https://ruleoftech.com/2018/generating-documentation-as-code-with-mermaid-and-plantuml <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>.</li></ul></main><footer><link rel=stylesheet href='/butiran/css/footer.css?v=1763875921'><p>Copyright Sparisoma Viridi 2025<a href=/butiran/h2/ style=cursor:text>.</a>
All rights reserved.
Unless stated otherwise in a note.</p></footer><script src=https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js integrity="sha256-QdTG1YTLLTwD3b95jLqFxpQX9uYuJMNAtVZgwKX4oYU=" crossorigin=anonymous></script><script>mermaid.initialize({startOnLoad:!0,theme:"neutral",themeVariables:{fontSize:"20px",nodeFontSize:"18px",labelFontSize:"14px"}})</script></body></html>