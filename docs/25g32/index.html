<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=color-scheme content="light dark"><title>abm-aor v0.2 | butiran</title><link rel=stylesheet href=/butiran/css/main.min.f989c0383f4e9afce48ea17803b13b53e50d25d004a17d52380031ad7cf7c7d0.css integrity="sha256-+YnAOD9OmvzkjqF4A7E7U+UNJdAEoX1SOAAxrXz3x9A=" crossorigin=anonymous><script src=/butiran/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></head><body><header><link rel=stylesheet href='/butiran/css/header.css?v=1767956068'><h1>butiran</h1><nav><ul><li><a href=/butiran/>Home</a></li></ul></nav></header><main><head><link rel=stylesheet href='/butiran/css/notes.css?v=1767956068'></head><div class=note-container><h1 class=note-title>abm-aor v0.2</h1><div class=info-after-title><ul class=authors-container><li class=author><a href=https://dudung.github.io/butiran/authors/viridi/>Sparisoma Viridi</a></li></ul><div class=date-reading-time-edit><time datetime="2025-07-12T17:33:00 07:00">12 Jul 2025</time>
&#183;
1 min read</div></div><div class=note-content><p>It is update version of 25f54.</p><p>Simulation for angle of repose of granular materials mixture using abm.</p><script src="/butiran/js/src/25e41.js?v=1767956050"></script><script src="/butiran/js/src/25e60.js?v=1767956050"></script><script src="/butiran/js/src/25f45.js?v=1767956050"></script><script src="/butiran/js/src/25f49.js?v=1767956050"></script><script src="/butiran/js/src/25f51.js?v=1767956050"></script><script src="/butiran/js/src/25f53.js?v=1767956050"></script><script src="/butiran/js/src/25g32.js?v=1767956050"></script><div id=cnt1></div><script>document.addEventListener("DOMContentLoaded",function(){const c=document.getElementById("cnt1"),l={display:"flex",border:"0px #aaf solid",background:"#fafaff",width:"800px",height:"400px"},i=createElement("div",l),d={flex:"1",overflowY:"scroll"},e=createElement("textarea",d),u={borderTop:"1px #888 solid",borderBottom:"1px #888 solid",background:"#fafafa",width:"80px"},n=createElement("div",u),h={width:"400px",border:"1px #888 solid",flexShrink:"0",boxSizing:"border-box",background:"#fff"},s=createElement("canvas",h);s.width="300",s.height="300",s.id="can-out";const o={width:"100%",display:"block"};btnSample=createElement("button",o),btnSample.innerHTML="Sample",btnRead=createElement("button",o),btnRead.innerHTML="Read",btnAbout=createElement("button",o),btnAbout.innerHTML="About",btnRun=createElement("button",o),btnRun.innerHTML="Start",btnClear=createElement("button",o),btnClear.innerHTML="Clear",btnRead.disabled=!0,btnRun.disabled=!0;const m={border:"1px solid #888",height:"100px",paddingLeft:"0.5em"},r=createElement("div",m);r.id="div-time",c.appendChild(i),i.append(e),i.append(n),n.append(btnAbout),n.append(btnSample),n.append(btnClear),n.append(btnRead),n.append(btnRun),n.append(r),i.append(s),btnAbout.addEventListener("click",()=>{let e="";e+=`
Project: abm-aor`,e+=`
Author: Sparisoma Viridi`,e+=`
Version: 0.2 (2025)`,e+=`
Description: Simulation of granular material angle of repose in 2d using an agent-based model.`,e+=`
GitHub: https://github.com/dudung/butiran`,alert(e)}),btnClear.addEventListener("click",()=>{clearInput(e),btnRead.disabled=!0,btnRun.disabled=!0}),btnSample.addEventListener("click",()=>{clearInput(e),addHeader_v0_2(e),addBlankLine(e),addEndTime_v0_2(e),addBlankLine(e),addConcentration_v0_2(e),addBlankLine(e),addMovementProbabilityMatrix_v0_2(e),addBlankLine(e),addWorld_v0_2(e),addBlankLine(e),addEnclosedWall_v0_2(e),addBlankLine(e),addContainerWall_v0_2(e),addBlankLine(e),addAgents_v0_2(e),btnRead.disabled=!1}),btnRead.addEventListener("click",()=>{let n=getLineFromTextarea(e,"WORLD");if(n!=null){let o=getValueAfterKeyword("WORLD",n).map(Number);world=createZeroMatrix(o[1],o[0]);let i=getLinesFromTextarea(e,"FRACTION"),c=getValueAfterKeyword("FRACTION",i[0]).map(Number),l=getLinesFromTextarea(e,"TEND");tend=parseInt(getValueAfterKeyword("TEND",l[0]));let d=getLinesFromTextarea(e,"WALL");for(let t of d){const e=getValueAfterKeyword("WALL",t).map(Number);drawWall(world,[e[0],e[1]],[e[2],e[3]],e[4])}agents=[];let u=getLinesFromTextarea(e,"AGENT");for(let e of u){const t=getValueAfterKeyword("AGENT",e).map(Number);agents.push(t)}let h=getBlocksFromTextarea(e,"MPMAT",3);mpm={},keys=[];for(let t of h){const e=getValueAfterKeyword("MPMAT",t[0]),n=getMatrixAfterKeyWord("MPMAT "+e,t,[3,3]);mpm[e]=n,keys.push(parseInt(e))}for(a of agents){const e=Math.random();let t=0;const n=c.map(e=>t+=e);let s=n.findIndex(t=>e<t);a[2]=keys[s],drawAgent(world,[a[0],a[1]],a[2])}drawMatrixOnCanvas(s,world,getColor),t=0,r.innerHTML="t = "+t}btnRun.disabled=!1}),e.addEventListener("input",()=>{btnRead.disabled=!1}),btnRun.addEventListener("click",()=>{btnRun.innerHTML=="Start"&&t<tend?(btnAbout.disabled=!0,btnSample.disabled=!0,btnClear.disabled=!0,btnRead.disabled=!0,btnRun.innerHTML="Stop",timer=setInterval(simulate_v0_2,interval)):(btnAbout.disabled=!1,btnSample.disabled=!1,btnClear.disabled=!1,btnRead.disabled=!1,btnRun.innerHTML="Start",clearInterval(timer))})})</script><h2 id=notes>notes</h2><ul><li>This is a part of
<a href=/butiran/25d66/><span>25d66
</span></a>project in investigating aor using abm approach.</li><li>Note
<a href=/butiran/25f45/><span>25f45
</span></a>,
<a href=/butiran/25f49/><span>25f49
</span></a>,
<a href=/butiran/25f51/><span>25f51
</span></a>, and
<a href=/butiran/25f53/><span>25f53
</span></a>are another input of this project, which is preceeded this.</li><li>Agent types are available on
<a href=/butiran/25e41/><span>25e41
</span></a>in range of 40-49.</li><li>Previous version (0.1 - 2025) is on
<a href=/butiran/25f54/><span>25f54
</span></a>.</li><li>Some information are on
<a href=/butiran/25g31/><span>25g31
</span></a>.</li><li>Update features are termination time <code>TEND</code> and granular mixture <code>FRACTION</code> as parameters.</li><li>Result examples are available <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</li></ul><h2 id=refs>refs</h2><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Sparisoma Viridi, &ldquo;25g32&rdquo;, butiran issues, url
<a href=https://github.com/dudung/butiran/issues/3 target=_blank rel="nofollow noopener noreferrer"><span>https://github.com/dudung/butiran/issues/3 <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>[20250713].&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></div></main><footer><link rel=stylesheet href='/butiran/css/footer.css?v=1767956068'><p>Copyright Sparisoma Viridi 2026<a href=/butiran/h2/ style=cursor:text>.</a>
All rights reserved.
Unless stated otherwise in a note.</p></footer></body></html>