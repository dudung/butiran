<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>med enhanced 2d scatplot | butiran</title>
<link rel=stylesheet href=/butiran/css/main.min.5d949e138e137f26bbbc6fbe151c3e39ca49a674bd5c6f0f3a9ff79176ee1043.css integrity="sha256-XZSeE44Tfya7vG++FRw+OcpJpnS9XG8POp/3kXbuEEM=" crossorigin=anonymous><script src=/butiran/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></head><body><header><link rel=stylesheet href='/butiran/css/header.css?v=1765486988'><h1>butiran</h1><nav><ul><li><a href=/butiran/>Home</a></li></ul></nav></header><main><head><link rel=stylesheet href='/butiran/css/notes.css?v=1765486988'></head><div class=note-container><h1 class=note-title>med enhanced 2d scatplot</h1><div class=info-after-title><ul class=authors-container><li class=author><a href=https://dudung.github.io/butiran/authors/viridi/>Sparisoma Viridi</a></li></ul><div class=date-reading-time-edit><time datetime="2025-09-08T21:43:29 07:00">8 Sep 2025</time>
&#183;
2 mins read</div></div><div class=note-content><h2 id=info>info</h2><ul><li>title Enhanced 2-d scatter plots</li><li>subtitle Encoding more dimensions with python matplotlib</li><li>url
<a href=https://medium.com/p/82aa6ec95be3 target=_blank rel="nofollow noopener noreferrer"><span>82aa6ec95be3 <i class="fa fa-external-link" style=font-size:14px></i></span></a></li><li>date 08-sep-2025</li></ul><h2 id=content>content</h2><p>Steps how to add more dimensions to a regular 2-d scattter plots are given in this story. It is assumed that you are already familiar with Python, Matplotlib, Pandas, dan NumPy.</p><h3 id=data-in-csv>Data in CSV</h3><p>Suppose that there is a CSV file with following content.</p><p>Press enter or click to view image in full size</p><p>It is not a good CSV file, since there is a lot of unnecessary space before and after semicolor ; character, which is used as separator. Name of the file is railway_jakarta_bogor.csv or you can name it as you wish, but notice the name in the upcoming codes.</p><h3 id=clean-unnecessary-space>Clean unnecessary space</h3><p>Following lines of code is used to clearn the unnecessary space.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;railway_jakarta_bogor.csv&#39;</span>,
</span></span><span style=display:flex><span>    sep<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;;&#39;</span>,
</span></span><span style=display:flex><span>    skipinitialspace<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>df<span style=color:#f92672>.</span>columns <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>columns<span style=color:#f92672>.</span>str<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> col <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;Elev&#39;</span>, <span style=color:#e6db74>&#39;Tracks&#39;</span>, <span style=color:#e6db74>&#39;Platforms&#39;</span>]:
</span></span><span style=display:flex><span>    df[col] <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>to_numeric(df[col],
</span></span><span style=display:flex><span>                            errors<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;coerce&#39;</span>)
</span></span></code></pre></div><p>Then there is also a function to convert n+abc in km to nabc m for position of a train station from a reference station.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>kmplus_to_meters</span>(value):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Convert a &#39;X+YYY&#39; string to total meters.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    e.g. &#39;2+395&#39; -&gt; 2395
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> pd<span style=color:#f92672>.</span>isna(value):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>    parts <span style=color:#f92672>=</span> str(value)<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;+&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(parts) <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>        km, m <span style=color:#f92672>=</span> parts
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> int(km) <span style=color:#f92672>*</span> <span style=color:#ae81ff>1000</span> <span style=color:#f92672>+</span> int(m)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> pd<span style=color:#f92672>.</span>to_numeric(value, errors<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;coerce&#39;</span>)
</span></span></code></pre></div><h3 id=result-and-code>Result and code</h3><p>Following is a 2-d scatter plot with two additional dimensions.</p><p>Press enter or click to view image in full size</p><p>Horizontal axis is for longitude, while vertical axis is for latitude. Marker size is proportional to station number of tracks, and marker color is for station elevation, where blue color for small elevation value and red color for high elevation value. Then, it is a four-dimensional plot.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>x <span style=color:#f92672>=</span> df[<span style=color:#e6db74>&#39;Long&#39;</span>]
</span></span><span style=display:flex><span>y <span style=color:#f92672>=</span> df[<span style=color:#e6db74>&#39;Lat&#39;</span>]
</span></span><span style=display:flex><span>t <span style=color:#f92672>=</span> [i<span style=color:#f92672>*</span><span style=color:#ae81ff>40</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> df[<span style=color:#e6db74>&#39;Tracks&#39;</span>]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>e <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>array([i<span style=color:#f92672>*</span><span style=color:#ae81ff>5</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> df[<span style=color:#e6db74>&#39;Elev&#39;</span>]])
</span></span><span style=display:flex><span>n <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>Normalize(
</span></span><span style=display:flex><span>    vmin<span style=color:#f92672>=</span>e<span style=color:#f92672>.</span>min(), vmax<span style=color:#f92672>=</span>e<span style=color:#f92672>.</span>max())
</span></span><span style=display:flex><span>cmap <span style=color:#f92672>=</span> cm<span style=color:#f92672>.</span>seismic
</span></span><span style=display:flex><span>colors <span style=color:#f92672>=</span> cmap(n(e))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>figure(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>4.6</span>, <span style=color:#ae81ff>4.6</span>))
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>grid()
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#39;Long&#39;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#39;Lat&#39;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>xticks(
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>106.78</span>, <span style=color:#ae81ff>106.80</span>, <span style=color:#ae81ff>106.82</span>,
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>106.84</span>, <span style=color:#ae81ff>106.86</span>])
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>ylim([<span style=color:#ae81ff>106.78</span>, <span style=color:#ae81ff>106.86</span>])
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>yticks([<span style=color:#f92672>-</span><span style=color:#ae81ff>6.8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6.6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6.4</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>-</span><span style=color:#ae81ff>6.2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>])
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>ylim([<span style=color:#f92672>-</span><span style=color:#ae81ff>6.8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6.0</span>])
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>plot(x, y, <span style=color:#e6db74>&#39;:k&#39;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>scatter(x, y, s<span style=color:#f92672>=</span>t, c<span style=color:#f92672>=</span>colors)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>show()
</span></span></code></pre></div><p>Above is the code to produce previous plot.</p><h3 id=closing>Closing</h3><p>After reading this story, you are able to</p><ul><li>create a simple and common 2-d scatter plot using Matplolib in Python,</li><li>read CSV file and clear unnecessary space before and after a separator character, and</li><li>enhance the 2-d scatter plot up to two additional dimension.</li></ul></div></div></main><footer><link rel=stylesheet href='/butiran/css/footer.css?v=1765486988'><p>Copyright Sparisoma Viridi 2025<a href=/butiran/h2/ style=cursor:text>.</a>
All rights reserved.
Unless stated otherwise in a note.</p></footer></body></html>