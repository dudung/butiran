<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Js on butiran</title><link>http://localhost:1313/butiran/categories/js/</link><description>Recent content in Js on butiran</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 18 Jul 2025 19:06:03 +0700</lastBuildDate><atom:link href="http://localhost:1313/butiran/categories/js/index.xml" rel="self" type="application/rss+xml"/><item><title>hugo add js submodule</title><link>http://localhost:1313/butiran/25g50/</link><pubDate>Fri, 18 Jul 2025 19:06:03 +0700</pubDate><guid>http://localhost:1313/butiran/25g50/</guid><description>&lt;p&gt;Add submodule for JS files of a Hugo site.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ git submodule add https://github.com/dudung/butiran-frontend.git static/js
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Cloning into &lt;span style="color:#e6db74"&gt;&amp;#39;M:/butiran/static/js&amp;#39;&lt;/span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;remote: Enumerating objects: 41, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;remote: Counting objects: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;41/41&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;remote: Compressing objects: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;35/35&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;remote: Total &lt;span style="color:#ae81ff"&gt;41&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;delta 8&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, reused &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;delta 0&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, pack-reused &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;from 0&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Receiving objects: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;41/41&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, 111.98 KiB | 319.00 KiB/s, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Resolving deltas: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;8/8&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;warning: in the working copy of &lt;span style="color:#e6db74"&gt;&amp;#39;.gitmodules&amp;#39;&lt;/span&gt;, LF will be replaced by CRLF the next time Git touches it
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ git add .gitmodules static/js
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ git commit -a -m &lt;span style="color:#e6db74"&gt;&amp;#34;add js submodule&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;main a7d2cfc&lt;span style="color:#f92672"&gt;]&lt;/span&gt; add js submodule
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt; files changed, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt; insertions&lt;span style="color:#f92672"&gt;(&lt;/span&gt;+&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; create mode &lt;span style="color:#ae81ff"&gt;100644&lt;/span&gt; .gitmodules
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; create mode &lt;span style="color:#ae81ff"&gt;160000&lt;/span&gt; static/js
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ git push
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Enumerating objects: 6, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Counting objects: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;6/6&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Delta compression using up to &lt;span style="color:#ae81ff"&gt;16&lt;/span&gt; threads
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Compressing objects: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;4/4&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Writing objects: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;4/4&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;449&lt;/span&gt; bytes | 449.00 KiB/s, &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Total &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;delta 1&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, reused &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;delta 0&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, pack-reused &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;remote: Resolving deltas: 100% &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1/1&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, completed with &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; local object.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;To https://github.com/dudung/butiran
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; a3317d7..a7d2cfc main -&amp;gt; main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Steps are according to a discussion for existing repository on GitHub &lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;li&gt;When changed, main repo should update the submodule &lt;sup id="fnref:2"&gt;&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="refs"&gt;refs&lt;/h2&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;GPT-4o, &amp;ldquo;Move JS to Submodule&amp;rdquo;, ChatGPT, 18 Jul 2025, url 
&lt;a

	
	
		href = "https://chatgpt.com/share/687a3a59-53e4-800a-ad77-65336a6a2551"

		

	

	

		target = "_blank"
		rel = "nofollow noopener noreferrer"

		&gt;
	
	
	&lt;span&gt;
		https://chatgpt.com/share/687a3a59-53e4-800a-ad77-65336a6a2551 &lt;i class="fa fa-external-link" style="font-size:14px"&gt;&lt;/i&gt;
	&lt;/span&gt;
 
&lt;/a&gt;
 [20250718].&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;</description></item><item><title>abm-aor v0.2</title><link>http://localhost:1313/butiran/25g32/</link><pubDate>Sat, 12 Jul 2025 17:33:00 +0700</pubDate><guid>http://localhost:1313/butiran/25g32/</guid><description>&lt;p&gt;It is update version of 25f54.&lt;/p&gt;
&lt;p&gt;Simulation for angle of repose of granular materials mixture using abm.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f49.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f51.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f53.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25g32.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "400px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "300";
can.height = "300";
can.id = "can-out";

const style6 = {
 width: "100%",
 display: "block",
};
btnSample = createElement("button", style6);
btnSample.innerHTML = "Sample";

btnRead = createElement("button", style6);
btnRead.innerHTML = "Read";

btnAbout = createElement("button", style6);
btnAbout.innerHTML = "About";

btnRun = createElement("button", style6);
btnRun.innerHTML = "Start";

btnClear = createElement("button", style6);
btnClear.innerHTML = "Clear";

btnRead.disabled = true;
btnRun.disabled = true;

const style7 = {
 border: "1px solid #888",
 height: "100px",
 paddingLeft: "0.5em",
};
const divTime = createElement("div", style7);
divTime.id = "div-time";

cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btnAbout);
 subdiv.append(btnSample);
 subdiv.append(btnClear);
 subdiv.append(btnRead);
 subdiv.append(btnRun);
 subdiv.append(divTime);
 div.append(can);

btnAbout.addEventListener("click", () =&gt; {
 let text = "";
 text += "\nProject: abm-aor";
 text += "\nAuthor: Sparisoma Viridi";
 text += "\nVersion: 0.2 (2025)";
 text += "\nDescription: Simulation of granular material angle of repose in 2d using an agent-based model.";
 text += "\nGitHub: https://github.com/dudung/butiran";
 alert(text);
});

btnClear.addEventListener("click", () =&gt; {
 clearInput(txa);
 btnRead.disabled = true;
 btnRun.disabled = true;
});

btnSample.addEventListener("click", () =&gt; {
 clearInput(txa);
 addHeader_v0_2(txa);
 addBlankLine(txa);
 addEndTime_v0_2(txa); /* v0.2 */
 addBlankLine(txa);
 addConcentration_v0_2(txa); /* v0.2 */
 addBlankLine(txa);
 addMovementProbabilityMatrix_v0_2(txa); /* v0.2 */
 addBlankLine(txa);
 addWorld_v0_2(txa); /* v0.2 */
 addBlankLine(txa);
 addEnclosedWall_v0_2(txa); /* v0.2 */
 addBlankLine(txa);
 addContainerWall_v0_2(txa); /* v0.2 */
 addBlankLine(txa);
 addAgents_v0_2(txa); /* v0.2 */

 btnRead.disabled = false;
});

btnRead.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 
 if(line != undefined) {
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 world = createZeroMatrix(dim[1], dim[0]);
 
 let lines0a = getLinesFromTextarea(txa, "FRACTION");
 let fraction = getValueAfterKeyword("FRACTION", lines0a[0]).map(Number);
 
 let lines0b = getLinesFromTextarea(txa, "TEND");
 tend = parseInt(getValueAfterKeyword("TEND", lines0b[0]));
 
 let lines1 = getLinesFromTextarea(txa, "WALL");
 for(let l of lines1) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(world, [w[0], w[1]], [w[2], w[3]], w[4]);
 }
 
 agents = [];
 let lines2 = getLinesFromTextarea(txa, "AGENT");
 for(let l of lines2) {
 const a = getValueAfterKeyword("AGENT", l).map(Number);
 agents.push(a);
 }
 
 let blocks = getBlocksFromTextarea(txa, "MPMAT", 3);
 mpm = {};
 keys = [];
 for(let b of blocks) {
 const t = getValueAfterKeyword("MPMAT", b[0]);
 const m = getMatrixAfterKeyWord("MPMAT " + t, b, [3, 3]);
 mpm[t] = m;
 keys.push(parseInt(t));
 }
 
 // Change agent types according to fraction
 for(a of agents) {
 const x = Math.random();
 let cumul = 0;
 const cumulSum = fraction.map(val =&gt; cumul += val);
 let idx = cumulSum.findIndex(cumVal =&gt; x &lt; cumVal);
 a[2] = keys[idx];
 drawAgent(world, [a[0], a[1]], a[2]);
 }
 
 drawMatrixOnCanvas(can, world, getColor)
 
 t = 0;
 divTime.innerHTML = "t = " + t;
 }
 
 btnRun.disabled = false;
});

txa.addEventListener("input", () =&gt; {
 btnRead.disabled = false;
});

btnRun.addEventListener("click", () =&gt; {
 if(btnRun.innerHTML == "Start" &amp;&amp; t &lt; tend) {
 btnAbout.disabled = true;
 btnSample.disabled = true;
 btnClear.disabled = true;
 btnRead.disabled = true;
 btnRun.innerHTML = "Stop";
 
 timer = setInterval(simulate_v0_2, interval);
 } else {
 btnAbout.disabled = false;
 btnSample.disabled = false;
 btnClear.disabled = false;
 btnRead.disabled = false;
 btnRun.innerHTML = "Start";
 
 clearInterval(timer);
 }
});


 });
&lt;/script&gt;

&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This is a part of 
&lt;a

	
	
		href = "/butiran/25d66/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25d66
	&lt;/span&gt; 
 
&lt;/a&gt;
 project in investigating aor using abm approach.&lt;/li&gt;
&lt;li&gt;Note 
&lt;a

	
	
		href = "/butiran/25f45/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f45
	&lt;/span&gt; 
 
&lt;/a&gt;
, 
&lt;a

	
	
		href = "/butiran/25f49/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f49
	&lt;/span&gt; 
 
&lt;/a&gt;
, 
&lt;a

	
	
		href = "/butiran/25f51/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f51
	&lt;/span&gt; 
 
&lt;/a&gt;
, and 
&lt;a

	
	
		href = "/butiran/25f53/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f53
	&lt;/span&gt; 
 
&lt;/a&gt;
 are another input of this project, which is preceeded this.&lt;/li&gt;
&lt;li&gt;Agent types are available on 
&lt;a

	
	
		href = "/butiran/25e41/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25e41
	&lt;/span&gt; 
 
&lt;/a&gt;
 in range of 40-49.&lt;/li&gt;
&lt;li&gt;Previous version (0.1 - 2025) is on 
&lt;a

	
	
		href = "/butiran/25f54/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f54
	&lt;/span&gt; 
 
&lt;/a&gt;
.&lt;/li&gt;
&lt;li&gt;Some information are on 
&lt;a

	
	
		href = "/butiran/25g31/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25g31
	&lt;/span&gt; 
 
&lt;/a&gt;
.&lt;/li&gt;
&lt;li&gt;Update features are termination time &lt;code&gt;TEND&lt;/code&gt; and granular mixture &lt;code&gt;FRACTION&lt;/code&gt; as parameters.&lt;/li&gt;
&lt;li&gt;Result examples are available &lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="refs"&gt;refs&lt;/h2&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Sparisoma Viridi, &amp;ldquo;25g32&amp;rdquo;, butiran issues, url 
&lt;a

	
	
		href = "https://github.com/dudung/butiran/issues/3"

		

	

	

		target = "_blank"
		rel = "nofollow noopener noreferrer"

		&gt;
	
	
	&lt;span&gt;
		https://github.com/dudung/butiran/issues/3 &lt;i class="fa fa-external-link" style="font-size:14px"&gt;&lt;/i&gt;
	&lt;/span&gt;
 
&lt;/a&gt;
 [20250713].&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;</description></item><item><title>mockup mult-energ-det</title><link>http://localhost:1313/butiran/25f63/</link><pubDate>Tue, 24 Jun 2025 07:33:47 +0700</pubDate><guid>http://localhost:1313/butiran/25f63/</guid><description>&lt;p&gt;A mockup for multi-energy particles detector mechanism (dark red: lowest energy, dark green: highest energy);&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f49.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f51.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f53.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f54.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f63.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "250px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 height: "250px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "400";
can.height = "250";
can.id = "can-out";

const style6 = {
 width: "100%",
 display: "block",
};
const btnSample = createElement("button", style6);
btnSample.innerHTML = "Sample";

const btnRead = createElement("button", style6);
btnRead.innerHTML = "Read";

const btnAbout = createElement("button", style6);
btnAbout.innerHTML = "About";

const btnRun = createElement("button", style6);
btnRun.innerHTML = "Start";

const btnClear = createElement("button", style6);
btnClear.innerHTML = "Clear";

btnRead.disabled = true;
btnRun.disabled = true;

const style7 = {
 border: "1px solid #888",
 height: "20px",
 paddingLeft: "0.5em",
 lineHeight: "1.2em",
 fontFamily: "Consolas",
 fontSize: "14px",
};
const divTime = createElement("div", style7);
divTime.id = "div-time";

const style8 = {
 height: "116px",
 display: "flex",
 alignItems: "flex-end",
 padding: "2px",
};
const divBar = createElement("div", style8);
divBar.id = "div-bar";


cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btnAbout);
 subdiv.append(btnSample);
 subdiv.append(btnClear);
 subdiv.append(btnRead);
 subdiv.append(btnRun);
 subdiv.append(divTime);
 subdiv.append(divBar);
 div.append(can);

btnAbout.addEventListener("click", () =&gt; {
 let text = "";
 text += "\nProject: mepd";
 text += "\nAuthor: Sparisoma Viridi";
 text += "\nVersion: 0.1 (2025)";
 text += "\nDescription: Mockup for multi-energy particle detection mechanism.";
 text += "\nGitHub: https://github.com/dudung";
 alert(text);
});

btnClear.addEventListener("click", () =&gt; {
 clearInput(txa);
 btnRead.disabled = true;
 btnRun.disabled = true;
});

btnSample.addEventListener("click", () =&gt; {
 clearInput(txa);
 addHeader(txa);
 addBlankLine(txa);
 addWorld3(txa); /* v3 */
 addBlankLine(txa);
 addEnclosedWall3(txa); /* v3 */
 addBlankLine(txa);
 addContainerWall3(txa); /* v3 */
 addBlankLine(txa);

 addFilters(txa);
 addBlankLine(txa);

 addMovementProbabilityMatrix3(txa); /* v3 */
 addAgents3(txa); /* v3 */

 btnRead.disabled = false;
});

btnRead.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 
 if(line != undefined) {
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 world = createZeroMatrix(dim[1], dim[0]);

 let lines1 = getLinesFromTextarea(txa, "WALL");
 for(let l of lines1) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(world, [w[0], w[1]], [w[2], w[3]], w[4]);
 }
 
 agents = [];
 let lines2 = getLinesFromTextarea(txa, "AGENT");
 for(let l of lines2) {
 const a = getValueAfterKeyword("AGENT", l).map(Number);
 drawAgent(world, [a[0], a[1]], a[2]);
 
 agents.push(a);
 }
 
 drawMatrixOnCanvas(can, world, getColor)
 
 let blocks = getBlocksFromTextarea(txa, "MPMAT", 3);
 mpm = {};
 for(let b of blocks) {
 const t = getValueAfterKeyword("MPMAT", b[0]);
 const m = getMatrixAfterKeyWord("MPMAT " + t, b, [3, 3]);
 mpm[t] = m;
 }
 
 t = 0;
 }
 
 btnRun.disabled = false;
});

txa.addEventListener("input", () =&gt; {
 btnRead.disabled = false;
});

btnRun.addEventListener("click", () =&gt; {
 if(btnRun.innerHTML == "Start") {
 btnAbout.disabled = true;
 btnSample.disabled = true;
 btnClear.disabled = true;
 btnRead.disabled = true;
 btnRun.innerHTML = "Stop";
 timer = setInterval(simulate2, interval);
 } else {
 btnAbout.disabled = false;
 btnSample.disabled = false;
 btnClear.disabled = false;
 btnRead.disabled = false;
 btnRun.innerHTML = "Start";
 clearInterval(timer);
 }
});

 });
&lt;/script&gt;

&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This is a part of 
&lt;a

	
	
		href = "/butiran/25c26/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25c26
	&lt;/span&gt; 
 
&lt;/a&gt;
 project in investigating particles energy.&lt;/li&gt;
&lt;li&gt;Next plan is to obtain comments and suggestions in the next meeting for improvement.&lt;/li&gt;
&lt;li&gt;Visualization might be required to display the result (L, M, R values) graphically. ✓&lt;/li&gt;
&lt;li&gt;Visual illutsration of real system is 
&lt;a

	
	
		href = "https://www.cell.com/cms/10.1016/j.matt.2024.05.029/asset/e0a5bf58-f300-4be3-bca6-2f015c212e0e/main.assets/fx1_lrg.jpg"

		

	

	

		target = "_blank"
		rel = "nofollow noopener noreferrer"

		&gt;
	
	
	&lt;span&gt;
		fx1_lrg.jpg &lt;i class="fa fa-external-link" style="font-size:14px"&gt;&lt;/i&gt;
	&lt;/span&gt;
 
&lt;/a&gt;
 from 
&lt;a

	
	
		href = "https://doi.org/10.1016/j.matt.2024.05.029"

		

	

	

		target = "_blank"
		rel = "nofollow noopener noreferrer"

		&gt;
	
	
	&lt;span&gt;
		an artikel &lt;i class="fa fa-external-link" style="font-size:14px"&gt;&lt;/i&gt;
	&lt;/span&gt;
 
&lt;/a&gt;
.&lt;/li&gt;
&lt;li&gt;&amp;#x1f6a7; Next stage is to simulate single granular particle with particular energy (in term of velocity) hitting barrier consists of array of fixed granular particles with certain crystal configuration in order to observe the energy loss during traveling in the barrier material as discussed with rk on 26-jun-2025.
&lt;ul&gt;
&lt;li&gt;After this try to oscillated the barrier to get the resonance effect.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>gran mix simul aor abm</title><link>http://localhost:1313/butiran/25f54/</link><pubDate>Wed, 18 Jun 2025 21:31:19 +0700</pubDate><guid>http://localhost:1313/butiran/25f54/</guid><description>&lt;p&gt;Simulation for angle of repose of granular materials mixture using abm.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f49.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f51.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f53.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f54.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "400px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "300";
can.height = "300";
can.id = "can-out";

const style6 = {
 width: "100%",
 display: "block",
};
const btnSample = createElement("button", style6);
btnSample.innerHTML = "Sample";

const btnRead = createElement("button", style6);
btnRead.innerHTML = "Read";

const btnAbout = createElement("button", style6);
btnAbout.innerHTML = "About";

const btnRun = createElement("button", style6);
btnRun.innerHTML = "Start";

const btnClear = createElement("button", style6);
btnClear.innerHTML = "Clear";

btnRead.disabled = true;
btnRun.disabled = true;

const style7 = {
 border: "1px solid #888",
 height: "100px",
 paddingLeft: "0.5em",
};
const divTime = createElement("div", style7);
divTime.id = "div-time";

cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btnAbout);
 subdiv.append(btnSample);
 subdiv.append(btnClear);
 subdiv.append(btnRead);
 subdiv.append(btnRun);
 subdiv.append(divTime);
 div.append(can);

btnAbout.addEventListener("click", () =&gt; {
 let text = "";
 text += "\nProject: abm-aor";
 text += "\nAuthor: Sparisoma Viridi";
 text += "\nVersion: 0.1 (2025)";
 text += "\nDescription: Simulation of granular material angle of repose in 2d using an agent-based model.";
 text += "\nGitHub: https://github.com/dudung";
 alert(text);
});

btnClear.addEventListener("click", () =&gt; {
 clearInput(txa);
 btnRead.disabled = true;
 btnRun.disabled = true;
});

btnSample.addEventListener("click", () =&gt; {
 clearInput(txa);
 addHeader(txa);
 addBlankLine(txa);
 addWorld2(txa); /* v2 */
 addBlankLine(txa);
 addEnclosedWall2(txa); /* v2 */
 addBlankLine(txa);
 addContainerWall2(txa); /* v2 */
 addBlankLine(txa);
 addMovementProbabilityMatrix2(txa); /* v2 */
 addBlankLine(txa);
 addAgents2(txa); /* v2 */

 btnRead.disabled = false;
});

btnRead.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 
 if(line != undefined) {
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 world = createZeroMatrix(dim[1], dim[0]);

 let lines1 = getLinesFromTextarea(txa, "WALL");
 for(let l of lines1) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(world, [w[0], w[1]], [w[2], w[3]], w[4]);
 }
 
 agents = [];
 let lines2 = getLinesFromTextarea(txa, "AGENT");
 for(let l of lines2) {
 const a = getValueAfterKeyword("AGENT", l).map(Number);
 drawAgent(world, [a[0], a[1]], a[2]);
 
 agents.push(a);
 }
 
 drawMatrixOnCanvas(can, world, getColor)
 
 let blocks = getBlocksFromTextarea(txa, "MPMAT", 3);
 mpm = {};
 for(let b of blocks) {
 const t = getValueAfterKeyword("MPMAT", b[0]);
 const m = getMatrixAfterKeyWord("MPMAT " + t, b, [3, 3]);
 mpm[t] = m;
 }
 
 t = 0;
 }
 
 btnRun.disabled = false;
});

txa.addEventListener("input", () =&gt; {
 btnRead.disabled = false;
});

btnRun.addEventListener("click", () =&gt; {
 if(btnRun.innerHTML == "Start") {
 btnAbout.disabled = true;
 btnSample.disabled = true;
 btnClear.disabled = true;
 btnRead.disabled = true;
 btnRun.innerHTML = "Stop";
 
 timer = setInterval(simulate, interval);
 } else {
 btnAbout.disabled = false;
 btnSample.disabled = false;
 btnClear.disabled = false;
 btnRead.disabled = false;
 btnRun.innerHTML = "Start";
 
 clearInterval(timer);
 }
});



 });
&lt;/script&gt;

&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This is a part of 
&lt;a

	
	
		href = "/butiran/25d66/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25d66
	&lt;/span&gt; 
 
&lt;/a&gt;
 project in investigating aor using abm approach.&lt;/li&gt;
&lt;li&gt;Note 
&lt;a

	
	
		href = "/butiran/25f45/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f45
	&lt;/span&gt; 
 
&lt;/a&gt;
, 
&lt;a

	
	
		href = "/butiran/25f49/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f49
	&lt;/span&gt; 
 
&lt;/a&gt;
, 
&lt;a

	
	
		href = "/butiran/25f51/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f51
	&lt;/span&gt; 
 
&lt;/a&gt;
, and 
&lt;a

	
	
		href = "/butiran/25f53/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f53
	&lt;/span&gt; 
 
&lt;/a&gt;
 are another input of this project, which is preceeded this.&lt;/li&gt;
&lt;li&gt;Agent types are available on 
&lt;a

	
	
		href = "/butiran/25e41/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25e41
	&lt;/span&gt; 
 
&lt;/a&gt;
 in range of 40-49.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>abm ui simul gas, liquid, solid</title><link>http://localhost:1313/butiran/25f53/</link><pubDate>Wed, 18 Jun 2025 18:20:43 +0700</pubDate><guid>http://localhost:1313/butiran/25f53/</guid><description>&lt;p&gt;Simulation for showing motion of gas (red), fluid (green) and solid (dark yellow) particle under influence of gravitation using abm.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f49.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f51.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f53.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "400px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "300";
can.height = "300";
can.id = "can-out";

const style6 = {
 width: "100%",
 display: "block",
};
const btnSample = createElement("button", style6);
btnSample.innerHTML = "Sample";

const btnRead = createElement("button", style6);
btnRead.innerHTML = "Read";

const btnAbout = createElement("button", style6);
btnAbout.innerHTML = "About";

const btnRun = createElement("button", style6);
btnRun.innerHTML = "Start";

const btnClear = createElement("button", style6);
btnClear.innerHTML = "Clear";

btnRead.disabled = true;
btnRun.disabled = true;

const style7 = {
 border: "1px solid #888",
 height: "100px",
 paddingLeft: "0.5em",
};
const divTime = createElement("div", style7);
divTime.id = "div-time";

cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btnAbout);
 subdiv.append(btnSample);
 subdiv.append(btnClear);
 subdiv.append(btnRead);
 subdiv.append(btnRun);
 subdiv.append(divTime);
 div.append(can);

btnAbout.addEventListener("click", () =&gt; {
 let text = "";
 text += "\nProject: abm-aor";
 text += "\nAuthor: Sparisoma Viridi";
 text += "\nVersion: 0.1 (2025)";
 text += "\nDescription: Simulation of granular material angle of repose in 2d using an agent-based model.";
 text += "\nGitHub: https://github.com/dudung";
 alert(text);
});

btnClear.addEventListener("click", () =&gt; {
 clearInput(txa);
 btnRead.disabled = true;
 btnRun.disabled = true;
});

btnSample.addEventListener("click", () =&gt; {
 clearInput(txa);
 addHeader(txa);
 addBlankLine(txa);
 addWorld(txa); /* v2 */
 addBlankLine(txa);
 addEnclosedWall(txa); /* v2 */
 addBlankLine(txa);
 addContainerWall(txa); /* v2 */
 addBlankLine(txa);
 addMovementProbabilityMatrix(txa); /* v2 */
 addBlankLine(txa);
 addAgents(txa); /* v2 */

 btnRead.disabled = false;
});

btnRead.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 
 if(line != undefined) {
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 world = createZeroMatrix(dim[0], dim[1]);

 let lines1 = getLinesFromTextarea(txa, "WALL");
 for(let l of lines1) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(world, [w[0], w[1]], [w[2], w[3]], w[4]);
 }
 
 agents = [];
 let lines2 = getLinesFromTextarea(txa, "AGENT");
 for(let l of lines2) {
 const a = getValueAfterKeyword("AGENT", l).map(Number);
 drawAgent(world, [a[0], a[1]], a[2]);
 
 agents.push(a);
 }
 
 drawMatrixOnCanvas(can, world, getColor)
 
 let blocks = getBlocksFromTextarea(txa, "MPMAT", 3);
 mpm = {};
 for(let b of blocks) {
 const t = getValueAfterKeyword("MPMAT", b[0]);
 const m = getMatrixAfterKeyWord("MPMAT " + t, b, [3, 3]);
 mpm[t] = m;
 }
 
 t = 0;
 }
 
 btnRun.disabled = false;
});

txa.addEventListener("input", () =&gt; {
 btnRead.disabled = false;
});

btnRun.addEventListener("click", () =&gt; {
 if(btnRun.innerHTML == "Start") {
 btnAbout.disabled = true;
 btnSample.disabled = true;
 btnClear.disabled = true;
 btnRead.disabled = true;
 btnRun.innerHTML = "Stop";
 
 timer = setInterval(simulate, interval);
 } else {
 btnAbout.disabled = false;
 btnSample.disabled = false;
 btnClear.disabled = false;
 btnRead.disabled = false;
 btnRun.innerHTML = "Start";
 
 clearInterval(timer);
 }
});



 });
&lt;/script&gt;

&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This is a part of 
&lt;a

	
	
		href = "/butiran/25d66/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25d66
	&lt;/span&gt; 
 
&lt;/a&gt;
 project in investigating aor using abm approach.&lt;/li&gt;
&lt;li&gt;Note 
&lt;a

	
	
		href = "/butiran/25f45/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f45
	&lt;/span&gt; 
 
&lt;/a&gt;
, 
&lt;a

	
	
		href = "/butiran/25f49/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f49
	&lt;/span&gt; 
 
&lt;/a&gt;
, and 
&lt;a

	
	
		href = "/butiran/25f51/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f51
	&lt;/span&gt; 
 
&lt;/a&gt;
 are another input of this project, which is preceeded this.&lt;/li&gt;
&lt;li&gt;Agent types are available on 
&lt;a

	
	
		href = "/butiran/25e41/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25e41
	&lt;/span&gt; 
 
&lt;/a&gt;
 in range of 40-49.&lt;/li&gt;
&lt;li&gt;Number of particles for all types are kept low only to show that the simulation is working.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>abm buttons</title><link>http://localhost:1313/butiran/25f51/</link><pubDate>Mon, 16 Jun 2025 15:47:35 +0700</pubDate><guid>http://localhost:1313/butiran/25f51/</guid><description>&lt;p&gt;Input, control, and ouput design for abm simulation is as follow.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f49.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f51.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "400px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "300";
can.height = "300";

const style6 = {
 width: "100%",
 display: "block",
};
const btnSample = createElement("button", style6);
btnSample.innerHTML = "Sample";

const btnRead = createElement("button", style6);
btnRead.innerHTML = "Read";

const btnAbout = createElement("button", style6);
btnAbout.innerHTML = "About";

const btnRun = createElement("button", style6);
btnRun.innerHTML = "Start";

const btnClear = createElement("button", style6);
btnClear.innerHTML = "Clear";

btnRead.disabled = true;
btnRun.disabled = true;


cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btnAbout);
 subdiv.append(btnSample);
 subdiv.append(btnClear);
 subdiv.append(btnRead);
 subdiv.append(btnRun);
 div.append(can);

btnRun.addEventListener("click", () =&gt; {
 if(btnRun.innerHTML == "Start") {
 btnAbout.disabled = true;
 btnSample.disabled = true;
 btnClear.disabled = true;
 btnRead.disabled = true;
 btnRun.innerHTML = "Stop";
 } else {
 btnAbout.disabled = false;
 btnSample.disabled = false;
 btnClear.disabled = false;
 btnRead.disabled = false;
 btnRun.innerHTML = "Start";
 }
});

btnAbout.addEventListener("click", () =&gt; {
 let text = "";
 text += "\nProject: abm-aor";
 text += "\nAuthor: Sparisoma Viridi";
 text += "\nVersion: 0.1 (2025)";
 text += "\nDescription: Simulation of granular material angle of repose in 2d using an agent-based model.";
 text += "\nGitHub: https://github.com/dudung";
 alert(text);
});

btnClear.addEventListener("click", () =&gt; {
 clearInput(txa);
 btnRead.disabled = true;
 btnRun.disabled = true;
});

btnSample.addEventListener("click", () =&gt; {
 clearInput(txa);
 addHeader(txa);
 addBlankLine(txa);
 addWorld(txa);
 addBlankLine(txa);
 addEnclosedWall(txa);
 addBlankLine(txa);
 addContainerWall(txa);
 addBlankLine(txa);
 addMovementProbabilityMatrix(txa);
 addBlankLine(txa);
 addAgents(txa);

 btnRead.disabled = false;
});

btnRead.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 
 if(line != undefined) {
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 let m = createZeroMatrix(dim[0], dim[1]);

 let lines1 = getLinesFromTextarea(txa, "WALL");
 for(let l of lines1) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(m, [w[0], w[1]], [w[2], w[3]], w[4]);
 }

 let lines2 = getLinesFromTextarea(txa, "AGENT");
 for(let l of lines2) {
 const a = getValueAfterKeyword("AGENT", l).map(Number);
 drawAgent(m, [a[0], a[1]], a[2]);
 }
 
 drawMatrixOnCanvas(can, m, getColor)
 
 let blocks = getBlocksFromTextarea(txa, "MPMAT", 3);
 let mats = {};
 for(let b of blocks) {
 const t = getValueAfterKeyword("MPMAT", b[0]);
 const m = getMatrixAfterKeyWord("MPMAT " + t, b, [3, 3]);
 mats[t] = m;
 }
 }
 
 btnRun.disabled = false;
});

txa.addEventListener("input", () =&gt; {
 btnRead.disabled = false;
 console.log("d");
});


 });
&lt;/script&gt;

&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This is a part of 
&lt;a

	
	
		href = "/butiran/25d66/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25d66
	&lt;/span&gt; 
 
&lt;/a&gt;
 project in investigating aor using abm approach.&lt;/li&gt;
&lt;li&gt;Note 
&lt;a

	
	
		href = "/butiran/25f45/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f45
	&lt;/span&gt; 
 
&lt;/a&gt;
 and 
&lt;a

	
	
		href = "/butiran/25f49/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f49
	&lt;/span&gt; 
 
&lt;/a&gt;
 are another input of this project, which is preceeded this.&lt;/li&gt;
&lt;li&gt;Agent types are available on 
&lt;a

	
	
		href = "/butiran/25e41/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25e41
	&lt;/span&gt; 
 
&lt;/a&gt;
 in range of 40-49.&lt;/li&gt;
&lt;li&gt;It shows the interaction between buttons and textarea and button, but not yet the simulation.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>abm agent-input</title><link>http://localhost:1313/butiran/25f49/</link><pubDate>Sun, 15 Jun 2025 09:29:15 +0700</pubDate><guid>http://localhost:1313/butiran/25f49/</guid><description>&lt;p&gt;Input and ouput design for abm agent is as follow.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f49.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "400px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "300";
can.height = "300";

const style6 = {
 width: "100%",
 display: "block",
};
const btn = createElement("button", style6);
btn.innerHTML = "Read";

cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btn);
 div.append(can);

addAgents(txa);

btn.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 
 if(line != undefined) {
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 let m = createZeroMatrix(dim[0], dim[1]);

 let lines1 = getLinesFromTextarea(txa, "WALL");
 for(let l of lines1) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(m, [w[0], w[1]], [w[2], w[3]], w[4]);
 }

 let lines2 = getLinesFromTextarea(txa, "AGENT");
 for(let l of lines2) {
 const a = getValueAfterKeyword("AGENT", l).map(Number);
 drawAgent(m, [a[0], a[1]], a[2]);
 }
 
 drawMatrixOnCanvas(can, m, getColor)
 
 let blocks = getBlocksFromTextarea(txa, "MPMAT", 3);
 let mats = {};
 for(let b of blocks) {
 const t = getValueAfterKeyword("MPMAT", b[0]);
 const m = getMatrixAfterKeyWord("MPMAT " + t, b, [3, 3]);
 mats[t] = m;
 }
 
 console.log(mats);
 }
});

 });
&lt;/script&gt;

&lt;h2 id="notes"&gt;notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This is a part of 
&lt;a

	
	
		href = "/butiran/25d66/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25d66
	&lt;/span&gt; 
 
&lt;/a&gt;
 project in investigating aor using abm approach.&lt;/li&gt;
&lt;li&gt;Note 
&lt;a

	
	
		href = "/butiran/25f45/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25f45
	&lt;/span&gt; 
 
&lt;/a&gt;
 is another input of this project, which is preceeded this.&lt;/li&gt;
&lt;li&gt;Agent types are available on 
&lt;a

	
	
		href = "/butiran/25e41/"

		

	

	&gt;
	
	
	&lt;span&gt;
		25e41
	&lt;/span&gt; 
 
&lt;/a&gt;
 in range of 40-49.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>abm bc-input</title><link>http://localhost:1313/butiran/25f45/</link><pubDate>Sun, 08 Jun 2025 04:14:00 +0700</pubDate><guid>http://localhost:1313/butiran/25f45/</guid><description>&lt;p&gt;Input and ouput design for abm bc is as follow.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;&lt;script src="http://localhost:1313/butiran/js/src/25f45.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "800px",
 height: "400px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "1",
 overflowY: "scroll",
};
const txa = createElement("textarea", style3);

const style4 = {
 borderTop: "1px #888 solid",
 borderBottom: "1px #888 solid",
 background: "#fafafa",
 width: "80px",
};
const subdiv = createElement("div", style4);

const style5 = {
 width: "400px",
 border: "1px #888 solid",
 flexShrink: "0",
 boxSizing: "border-box",
 background: "#fff",
};
const can = createElement("canvas", style5);
can.width = "300";
can.height = "300";

const style6 = {
 width: "100%",
 display: "block",
};
const btn = createElement("button", style6);
btn.innerHTML = "Read";

cnt.appendChild(div);
 div.append(txa);
 div.append(subdiv);
 subdiv.append(btn);
 div.append(can);

addWorldAndWalls(txa);

btn.addEventListener("click", () =&gt; {
 let line = getLineFromTextarea(txa, "WORLD");
 let dim = getValueAfterKeyword("WORLD", line).map(Number);
 let m = createZeroMatrix(dim[0], dim[1]);

 let lines = getLinesFromTextarea(txa, "WALL");
 for(let l of lines) {
 const w = getValueAfterKeyword("WALL", l).map(Number);
 drawWall(m, [w[0], w[1]], [w[2], w[3]], w[4]);
 }

 drawMatrixOnCanvas(can, m, getColor)
});

 });
&lt;/script&gt;

&lt;h2 id="inputs"&gt;inputs&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;A wall that encircles the world, along with its size and resolution: the total size of the 2D grid and the cell granularity, defined in terms of the number of cells. ✓&lt;/li&gt;
&lt;li&gt;A bottomless cylindrical container for the mixture, simplified as two parallel walls separated by a specified width (in number of cells). ✓&lt;/li&gt;
&lt;li&gt;The cylinder should be able to move upward at a defined lifting speed. ✗&lt;/li&gt;
&lt;li&gt;Agents representing two or three components of the granular mixture. ✗&lt;/li&gt;
&lt;li&gt;A movement probability matrix for each agent, consisting of 9 directional probabilities: up, down, left, right, the four diagonals, and staying in place. ✗&lt;/li&gt;
&lt;li&gt;Component concentrations in the mixture, with a corresponding encoding scheme for each component. ✗&lt;/li&gt;
&lt;li&gt;The initial packing structure of agents inside the container: random fill, lattice arrangement, or layered distribution by component. ✗&lt;/li&gt;
&lt;li&gt;The simulation stop condition, such as when the container is fully lifted and all agents become stable. ✗&lt;/li&gt;
&lt;li&gt;Visualization parameters, including color mapping for each component, output resolution, and the rendering frame interval. ✗&lt;/li&gt;
&lt;li&gt;A random seed for reproducibility (optional, but useful for consistent experimental results and debugging). ✗&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Above input specification and design is result of a discussion that refines initial idea &lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;</description></item><item><title>js input from textarea</title><link>http://localhost:1313/butiran/25e60/</link><pubDate>Thu, 29 May 2025 05:09:46 +0700</pubDate><guid>http://localhost:1313/butiran/25e60/</guid><description>&lt;p&gt;Input from textarea using keyword form inline value(s) or block values.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e60.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "600px",
 height: "320px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "2",
 overflowY: "scroll",
 background: "#efe",
};
inp = createElement("textarea", style3);

const style4 = {
 flex: "2",
 overflowY: "scroll",
 background: "#fee",
};
const out = createElement("textarea", style4);
out.disabled = true;

const style5 = {
 flex: "1",
 background: "#eef",
 borderTop: "1px solid #bbb",
 borderBottom: "1px solid #bbb",
 padding: "2px",
};
const buttons = createElement("div", style5);

const style6 = {
 width: "100%",
};
const btn1 = createElement("button", style6);
btn1.innerHTML = "Get Param";
btn1.addEventListener("click", () =&gt; {
 const keyword = getParamFromInput(key1);
 if(keyword.length &gt; 0) {
 const line = getLineFromTextarea(inp, keyword);
 if(line != undefined) {
 const val = getValueAfterKeyword(keyword, line);
 const val2 = formatForTextarea(val)
 addTextToTextarea(out, val2);
 }
 }
});

const btn2 = createElement("button", style6);
btn2.innerHTML = "Get Block";
btn2.addEventListener("click", () =&gt; {
 const keyword = getParamFromInput(key2);
 if(keyword.length &gt; 0) {
 const block = getBlockFromTextarea(inp, keyword);
 if(block != undefined &amp;&amp; block.length &gt; 0) {
 const k1 = "BLOCK " + keyword;
 const k2 = "END";
 const vals = getValuesBetweenKeywords(k1, k2, block);
 const vals2 = formatForTextarea(vals);
 addTextToTextarea(out, vals2);
 }
 }
});

const style7 = {
 display: "inline-block",
 padding: "10px 4px 2px",
 border: "0px solid black",
 width: "100%",
 textAlign: "center",
};
const lab1 = createElement("label", style7);
lab1.innerHTML = "Param keyword";
const lab2 = createElement("label", style7);
lab2.innerHTML = "Block keyword";

const key1 = createElement("input");
const key2 = createElement("input");
const br1 = createElement("hr");
const br2 = createElement("hr");

cnt.appendChild(div);
 div.appendChild(inp);
 div.appendChild(buttons);
 buttons.appendChild(lab1);
 buttons.appendChild(key1);
 buttons.appendChild(btn1);
 buttons.appendChild(br1);
 buttons.appendChild(lab2);
 buttons.appendChild(key2);
 buttons.appendChild(btn2);
 buttons.appendChild(br2);
 div.appendChild(out);

addExampleToTextarea(inp);


 });
&lt;/script&gt;

&lt;p&gt;Left area is for inline value(s) and block values and right area is for the results.&lt;/p&gt;</description></item><item><title>js matrix to canvas</title><link>http://localhost:1313/butiran/25e41/</link><pubDate>Wed, 21 May 2025 13:19:31 +0700</pubDate><guid>http://localhost:1313/butiran/25e41/</guid><description>&lt;p&gt;Content of matrix showing as colored grid on canvas.&lt;/p&gt;

&lt;script src="http://localhost:1313/butiran/js/src/25e41.js?v=1766295403"&gt;&lt;/script&gt;



&lt;div id="cnt1"&gt;&lt;/div&gt;

&lt;script&gt;
 document.addEventListener("DOMContentLoaded", function () {
 
const cnt = document.getElementById("cnt1");

const style2 = {
 display: "flex",
 border: "0px #aaf solid",
 background: "#fafaff",
 width: "500px",
 height: "200px",
};
const div = createElement("div", style2);

const style3 = {
 flex: "3",
 overflowY: "scroll",
 background: "#fee",
};
const txa = createElement("textarea", style3);

const style4 = {
 flex: "2",
 background: "#efe",
 border: "1px #080 solid",
};
const can = createElement("canvas", style4);

cnt.appendChild(div);
div.append(txa);
div.append(can);

let m = [
 [15, 16, 17, 18, 19, 19, 18, 17, 16, 15], // 00
 [14, 26, 27, 28, 29, 29, 28, 27, 26, 14], // 01
 [13, 24, 25, 26, 27, 27, 26, 25, 24, 13], // 02
 [12, 23, 22, 21, 20, 20, 21, 22, 23, 12], // 03
 [11, 39, 38, 49, 48, 48, 49, 38, 39, 11], // 04
 [10, 37, 36, 47, 46, 46, 47, 36, 37, 10], // 05
 [10, 35, 34, 45, 44, 44, 45, 34, 36, 10], // 06
 [10, 33, 32, 43, 42, 42, 43, 33, 33, 10], // 07
 [10, 31, 30, 41, 40, 40, 41, 30, 31, 10], // 08
 [10, 10, 10, 10, 10, 10, 10, 10, 10, 10], // 09
]
const ms = matrixToStr(m);
addTextToTextarea(txa, ms);

drawMatrixOnCanvas(can, m, getColor);


 });
&lt;/script&gt;

&lt;p&gt;Left area is for matrix content and right area is for its visualization representation.&lt;/p&gt;</description></item><item><title>js-abm on hugo-post</title><link>http://localhost:1313/butiran/25c70/</link><pubDate>Mon, 31 Mar 2025 02:47:53 +0700</pubDate><guid>http://localhost:1313/butiran/25c70/</guid><description/></item><item><title>js for fun 4</title><link>http://localhost:1313/butiran/25c52/</link><pubDate>Thu, 20 Mar 2025 04:13:05 +0700</pubDate><guid>http://localhost:1313/butiran/25c52/</guid><description/></item><item><title>js for fun 3</title><link>http://localhost:1313/butiran/25c39/</link><pubDate>Sat, 15 Mar 2025 03:48:57 +0700</pubDate><guid>http://localhost:1313/butiran/25c39/</guid><description/></item><item><title>js for fun 2</title><link>http://localhost:1313/butiran/25c36/</link><pubDate>Thu, 13 Mar 2025 20:55:18 +0700</pubDate><guid>http://localhost:1313/butiran/25c36/</guid><description/></item><item><title>js for fun 1</title><link>http://localhost:1313/butiran/25c22/</link><pubDate>Sun, 09 Mar 2025 05:17:53 +0700</pubDate><guid>http://localhost:1313/butiran/25c22/</guid><description/></item></channel></rss>