<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=color-scheme content="light dark"><title>reg npp-protocol | butiran</title><link rel=stylesheet href=/butiran/css/main.min.88369209f62ceb1d0a60991f52d8846a431616d72f06610f6046bb3c9b146c23.css integrity="sha256-iDaSCfYs6x0KYJkfUtiEakMWFtcvBmEPYEa7PJsUbCM=" crossorigin=anonymous><script src=/butiran/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css></head><body><header><link rel=stylesheet href='/butiran/css/header.css?v=1767307538'><h1>butiran</h1><nav><ul><li><a href=/butiran/>Home</a></li></ul></nav></header><main><head><link rel=stylesheet href='/butiran/css/notes.css?v=1767307538'></head><div class=note-container><h1 class=note-title>reg npp-protocol</h1><div class=info-after-title><ul class=authors-container><li class=author><a href=https://dudung.github.io/butiran/authors/viridi/>Sparisoma Viridi</a></li></ul><div class=date-reading-time-edit><time datetime="2025-09-21T05:14:34 07:00">21 Sep 2025</time>
&#183;
3 mins read</div></div><div class=note-content><p>A Notepad++ launcher to make Hugo post editing easier is reported here. It uses a custom protocol and is informed to work on Windows <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, but unfortunatelly it does not. A lot of modifications are required to make it works <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>. It also requires a shortcode to convert link provided in a Hugo post to the <code>npp://</code> protocol <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.</p><h2 id=batch-file>batch file</h2><p>Content of <code>npp.bat</code> located in <code>C:\Tools</code> is as follow.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>@<span style=color:#66d9ef>echo</span> off
</span></span><span style=display:flex><span><span style=color:#66d9ef>setlocal</span> enabledelayedexpansion
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: get the incoming URL (quoted)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> <span style=color:#e6db74>&#34;URL=</span>%~1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: remove npp:// from the front</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> <span style=color:#e6db74>&#34;FILE=</span>%URL:npp://=%<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: replace forward slashes with backslashes</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> <span style=color:#e6db74>&#34;FILE=</span>%FILE:/=\%<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: remove the first backslash</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#66d9ef>/f</span> <span style=color:#e6db74>&#34;tokens=1* delims=\&#34;</span> <span style=color:#ae81ff>%%</span>A <span style=color:#66d9ef>in</span> (<span style=color:#e6db74>&#34;</span>!FILE!<span style=color:#e6db74>&#34;</span>) <span style=color:#66d9ef>do</span> (
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>set</span> <span style=color:#e6db74>&#34;FILE=</span><span style=color:#ae81ff>%%</span><span style=color:#e6db74>A</span><span style=color:#ae81ff>%%</span><span style=color:#e6db74>B&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:<span style=color:#75715e>: launch Notepad++ with the real path</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;C:\Program Files\Notepad++\notepad++.exe&#34;</span> <span style=color:#e6db74>&#34;</span>%FILE%<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endlocal</span>
</span></span></code></pre></div><p>This batch file is required to strip <code>npp://</code>, convert <code>/</code> to <code>\</code>, and remove the first <code>\</code>. The protocol is only needed to identify the protocol but must not be passed. Link to file in HTML file is different than link used in Windows. The first <code>\</code> will make the link relative to <code>C:\Windows\System32\</code>.</p><h2 id=reg-file>reg file</h2><p>Content of <code>npp.reg</code> is as follow.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-reg data-lang=reg><span style=display:flex><span>Windows Registry Editor Version 5.00
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[</span>HKEY_CLASSES_ROOT<span style=color:#66d9ef>\npp]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>&#34;URL Protocol&#34;</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[</span>HKEY_CLASSES_ROOT<span style=color:#66d9ef>\npp\shell\open\command]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;\&#34;C:\\Tools\\npp.bat\&#34; \&#34;%1\&#34;&#34;</span>
</span></span></code></pre></div><p>It is a minimal registry file to register the protocol and to execute <code>npp.bat</code> when it is clicked.</p><h2 id=shortcode>shortcode</h2><p>Content of <code>npp.html</code> in <code>layouts/shortcode/link</code> is as follow.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;npp:///{{ .Get 0 }}&#34;</span>&gt;{{ if .Get 1 }}{{ .Get 1 }}{{ else }}edit{{ end }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span></code></pre></div><p>As an illustration, you can <a href=npp:///M:/butiran/content/posts/25/i/66-reg-npp-protocol.md>edit</a>
this post.</p><h2 id=steps>steps</h2><ol><li>Create <code>npp.reg</code> and double-click it to merge its contents into the Windows Registry.</li><li>Create <code>npp.bat</code> and save it as <code>C:\Tools\npp.bat</code>.</li><li>Create a Hugo shortcode file named <code>npp.html</code> in <code>layouts/shortcodes/</code>.</li><li>Use the shortcode in your content:<br><code>{{&lt; link/npp "X:/path/to/a-post.md" "open" >}}</code></li><li>Click the generated link to open the file in Notepad++.</li></ol><p>Above steps have been polished by GPT-5 <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>.</p><h2 id=notes>notes</h2><ul><li>Creation of this note requires discussion with GPT-5.</li><li>unfortunatelly, GPT-5 does not give direct useable code.</li><li>Reporting error messages to it triggers GPT-5 to give solution the problem.</li><li>Debugging skill and prior knowledge are still required to take advantage of GPT-5 answers.</li><li>A better approach is proposed in newer note <sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup> and this approach will not be installed in other machine than nb-amd-ryzen-7.</li></ul><h2 id=to-do>to-do</h2><ul><li>Currently, the npp:// protocol requires an absolute path to a file, which is inconvenient when Hugo posts are saved in different folders on different computers. Support for relative paths is needed.</li><li>An Edit link in a Hugo post could be useful if it retrieves information from the front matter, enabling editing directly while navigating the site on the local server. This feature currently exists only when the HTML pages are served locally.</li><li>Create a Medium story about this note. Done on
<a href=/butiran/25i68/><span>25i68
</span></a>.</li></ul><p>To-do items are also polished by GPT-5 <sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>, but not the last one.</p><h2 id=refs>refs</h2><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>GPT-5, &ldquo;Notepad++ post launcher&rdquo;, ChatGPT, 21 Sep 2025, url
<a href=https://chatgpt.com/share/68cf27e1-542c-800a-b6a8-66f33ed1ccbb target=_blank rel="nofollow noopener noreferrer"><span>https://chatgpt.com/share/68cf27e1-542c-800a-b6a8-66f33ed1ccbb <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>[20250921].&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>GPT-5, &ldquo;Registry protocol setup&rdquo;, ChatGPT, 21 Sep 2025, url
<a href=https://chatgpt.com/share/68cf7377-5d54-800a-a809-75a8f0a095ff target=_blank rel="nofollow noopener noreferrer"><span>https://chatgpt.com/share/68cf7377-5d54-800a-a809-75a8f0a095ff <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>[20250921].&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>GPT-5, &ldquo;Create Hugo shortcode&rdquo;, ChatGPT, 21 Sep 2025, url
<a href=https://chatgpt.com/share/68cf73aa-23d8-800a-92cd-35dee4457627 target=_blank rel="nofollow noopener noreferrer"><span>https://chatgpt.com/share/68cf73aa-23d8-800a-92cd-35dee4457627 <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>[20250921].&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>GPT-5, &ldquo;Correct instruction formatting&rdquo;, ChatGPT, 21 Sep 2025, url
<a href=https://chatgpt.com/share/68cf7b6d-9bc4-800a-b96d-2a814aef7ed5 target=_blank rel="nofollow noopener noreferrer"><span>https://chatgpt.com/share/68cf7b6d-9bc4-800a-b96d-2a814aef7ed5 <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>[20250921].&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p>Sparisoma Viridi, &ldquo;reg npprel-protocol&rdquo;, butiran, 21 Sep 2025, url
<a href=/butiran/25i67/><span>https://dudung.github.io/butiran/25i67/
</span></a>[20250921].&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p>GPT-5, &ldquo;Correct sentence structure&rdquo;, ChatGPT, 21 Sep 2025, url
<a href=https://chatgpt.com/share/68cf81dd-70c0-800a-a578-0eacbb70a84c target=_blank rel="nofollow noopener noreferrer"><span>https://chatgpt.com/share/68cf81dd-70c0-800a-a578-0eacbb70a84c <i class="fa fa-external-link" style=font-size:14px></i>
</span></a>[20250921].&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></div></main><footer><link rel=stylesheet href='/butiran/css/footer.css?v=1767307538'><p>Copyright Sparisoma Viridi 2026<a href=/butiran/h2/ style=cursor:text>.</a>
All rights reserved.
Unless stated otherwise in a note.</p></footer></body></html>